{
  "stages":
  [
    {
      "id": 0,
      "name": "raw_weather_filter",
      "source": [
        {
          "type": "queue",
          "name": "raw_weather_data"
        }
      ],
      "response": [
        {
          "type": "topic",
          "name": "weather_topic"
        }
      ]
    },
    {
      "id": 1,
      "name": "raw_trip_filter",
      "source": [
        {
          "type": "queue",
          "name": "raw_trip_data"
        }
      ],
      "response": [
        {
          "type": "queue",
          "name": "trip_to_joiner_q1"
        },
        {
          "type": "queue",
          "name": "trip_to_joiner_q2"
        },
        {
          "type": "queue",
          "name": "trip_to_joiner_q3"
        }
      ]
    },
    {
      "id": 2,
      "name": "raw_station_filter",
      "source": [
        {
          "type": "queue",
          "name": "raw_station_data"
        }
      ],
      "response": [
        {
          "type": "topic",
          "name": "station_topic"
        }
      ]
    },
    {
      "id": 3,
      "name": "joiner_query1_config",
      "source": [
        {
          "type": "topic",
          "name": "weather_topic"
        }
      ],
      "response": []
    },
    {
      "id": 4,
      "name": "joiner_query1_join",
      "source": [
        {
          "type": "queue",
          "name": "trip_to_joiner_q1"
        }
      ],
      "response":  [
        {
          "type": "queue",
          "name": "collector_q1"
        }
      ]
    },

    {
      "id": 5,
      "name": "joiner_query2_config",
      "source": [
        {
          "type": "topic",
          "name": "station_topic"
        }
      ],
      "response": []
    },
    {
      "id": 6,
      "name": "joiner_query2_join",
      "source": [
        {
          "type": "queue",
          "name": "trip_to_joiner_q2"
        }
      ],
      "response":  [
        {
          "type": "queue",
          "name": "collector_q2"
        }
      ]
    },
    {
      "id": 7,
      "name": "joiner_query3_config",
      "source": [
        {
          "type": "topic",
          "name": "station_topic"
        }
      ],
      "response": []
    },
    {
      "id": 3,
      "name": "joiner_query3_join",
      "source": [
        {
          "type": "queue",
          "name": "trip_to_joiner_q3"
        }
      ],
      "response":  [
        {
          "type": "queue",
          "name": "collector_q3"
        }
      ]
    },
    {
      "id": 5,
      "name": "average_calc",
      "source": [
        {
          "type": "queue",
          "name": "collector_q1"
        }
      ],
      "response": [
        {
          "type": "queue",
          "name": "query_results"
        }
      ]
    },
    {
      "id": 5,
      "name": "q2-counter",
      "source": [
        {
          "type": "queue",
          "name": "collector_q2"
        }
      ],
      "response": [
        {
          "type": "queue",
          "name": "query_results"
        }
      ]
    },
    {
      "id": 4,
      "name": "q3-distance",
      "source": [
        {
          "type": "queue",
          "name": "collector_q3"
        }
      ],
      "response": [
        {
          "type": "queue",
          "name": "query3-pipe2"
        }
      ]
    },
    {
      "id": 5,
      "name": "q3-average",
      "source": [
        {
          "type": "queue",
          "name": "query3-pipe2"
        }
      ],
      "response": [
        {
          "type": "queue",
          "name": "query3-pipe3"
        }
      ]
    },
    {
      "id": 5,
      "name": "q3-filter",
      "source": [
        {
          "type": "queue",
          "name": "query3-pipe3"
        }
      ],
      "response": [
        {
          "type": "queue",
          "name": "query_results"
        }
      ]
    }
  ]
}